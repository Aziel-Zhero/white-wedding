{
  "entities": {
    "Couple": {
      "$schema": "http://json-schema.org/draft-07/schema#",
      "title": "Couple",
      "type": "object",
      "description": "Represents the couple getting married. This is the root entity for a wedding.",
      "properties": {
        "id": {
          "type": "string",
          "description": "Unique identifier for the Couple entity, typically a URL-friendly slug."
        },
        "ownerId": {
            "type": "string",
            "description": "The Firebase Auth UID of the user who owns and manages this couple's data."
        },
        "groomName": {
          "type": "string",
          "description": "Name of the groom."
        },
        "brideName": {
          "type": "string",
          "description": "Name of the bride."
        },
        "weddingDate": {
          "type": "string",
          "description": "Date of the wedding.",
          "format": "date-time"
        },
        "story": {
          "type": "string",
          "description": "The couple's love story."
        },
        "imageUrl": {
          "type": "string",
          "description": "URL to a picture of the couple",
          "format": "uri"
        }
      },
      "required": [
        "id",
        "ownerId",
        "groomName",
        "brideName",
        "weddingDate"
      ]
    },
    "Guest": {
      "title": "Guest",
      "type": "object",
      "description": "Represents a guest invited to the wedding.",
      "properties": {
        "id": { "type": "string" },
        "coupleId": { "type": "string" },
        "name": { "type": "string" },
        "email": { "type": "string", "format": "email" },
        "status": { "type": "string", "enum": ["Pendente", "Confirmado", "Recusado"] }
      },
      "required": ["id", "coupleId", "name", "status"]
    },
    "Gift": {
      "title": "Gift",
      "type": "object",
      "description": "Represents a gift in the couple's registry.",
      "properties": {
        "id": { "type": "string" },
        "coupleId": { "type": "string" },
        "name": { "type": "string" },
        "description": { "type": "string" },
        "totalPrice": { "type": "number" },
        "contributedAmount": { "type": "number" },
        "imageUrl": { "type": "string", "format": "uri" },
        "imageHint": { "type": "string" },
        "contributors": {
          "type": "array",
          "description": "A list of contributors for this gift.",
          "items": {
            "type": "object",
            "properties": {
              "name": { "type": "string" },
              "amount": { "type": "number" }
            },
            "required": ["name", "amount"]
          }
        }
      },
      "required": ["id", "coupleId", "name", "totalPrice", "contributedAmount"]
    },
    "RSVP": {
      "title": "RSVP",
      "type": "object",
      "description": "Represents a confirmation of attendance from a guest.",
      "properties": {
        "id": { "type": "string" },
        "coupleId": { "type": "string" },
        "guestName": { "type": "string" }
      },
      "required": ["id", "coupleId", "guestName"]
    }
  },
  "auth": {
    "providers": [
      "password"
    ]
  },
  "firestore": {
    "structure": [
      {
        "path": "/couples/{coupleId}",
        "definition": {
          "entityName": "Couple",
          "schema": { "$ref": "#/backend/entities/Couple" },
          "description": "Stores the main information about the couple and their wedding."
        }
      },
      {
        "path": "/couples/{coupleId}/guests/{guestId}",
        "definition": {
          "entityName": "Guest",
          "schema": { "$ref": "#/backend/entities/Guest" },
          "description": "Stores the list of guests for a specific couple."
        }
      },
      {
        "path": "/couples/{coupleId}/gifts/{giftId}",
        "definition": {
          "entityName": "Gift",
          "schema": { "$ref": "#/backend/entities/Gift" },
          "description": "Stores the gift registry for a specific couple."
        }
      },
      {
        "path": "/couples/{coupleId}/rsvps/{rsvpId}",
        "definition": {
          "entityName": "RSVP",
          "schema": { "$ref": "#/backend/entities/RSVP" },
          "description": "Stores RSVP confirmations for a specific couple."
        }
      }
    ]
  }
}
